<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>Color Gamut</title>
  <style>
    body {
      margin: 0;
      background: #ffffff;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro", sans-serif;
    }

    canvas {
      width: 420px;
      height: 420px;
    }
  </style>
</head>
<body>
  <canvas id="gamut" width="420" height="420"></canvas>

  <script>
    const canvas = document.getElementById("gamut");
    const ctx = canvas.getContext("2d");

    const W = canvas.width;
    const H = canvas.height;
    const cx = W / 2;
    const cy = H / 2;
    const radius = W * 0.42;

    // 畫圓形色彩盤（好看版本）
    function drawColorWheel() {
      for (let angle = 0; angle < 360; angle += 1) {
        const start = (angle - 1) * Math.PI / 180;
        const end   = angle * Math.PI / 180;

        const grad = ctx.createRadialGradient(cx, cy, radius * 0.15, cx, cy, radius);
        grad.addColorStop(0, "hsl(" + angle + ", 20%, 92%)");
        grad.addColorStop(1, "hsl(" + angle + ", 85%, 60%)");

        ctx.beginPath();
        ctx.moveTo(cx, cy);
        ctx.arc(cx, cy, radius, start, end);
        ctx.closePath();
        ctx.fillStyle = grad;
        ctx.fill();
      }
    }

    // sRGB 色域（三角形，視覺比例）
    function drawSRGB() {
      const points = [
        { x: 0.64, y: 0.33 },
        { x: 0.30, y: 0.60 },
        { x: 0.15, y: 0.06 }
      ];

      function map(p) {
        return {
          x: cx + (p.x - 0.33) * radius * 1.25,
          y: cy - (p.y - 0.33) * radius * 1.25
        };
      }

      ctx.beginPath();
      const p0 = map(points[0]);
      ctx.moveTo(p0.x, p0.y);

      points.slice(1).forEach(p => {
        const m = map(p);
        ctx.lineTo(m.x, m.y);
      });

      ctx.closePath();
      ctx.strokeStyle = "rgba(0,0,0,0.55)";
      ctx.lineWidth = 1.2;
      ctx.stroke();
    }

    // 外圈細邊框（Apple 很愛）
    function drawOutline() {
      ctx.beginPath();
      ctx.arc(cx, cy, radius, 0, Math.PI * 2);
      ctx.strokeStyle = "rgba(0,0,0,0.08)";
      ctx.lineWidth = 1;
      ctx.stroke();
    }

    drawColorWheel();
    drawSRGB();
    drawOutline();
  </script>
</body>
</html>
